schema: '2.0'
stages:
  download:
    cmd: python src/download.py
    deps:
    - path: src/download.py
      hash: md5
      md5: e6e0b88394d5b42f3dfed2d854a20ed1
      size: 1877
      isexec: true
    params:
      params.yaml:
        download:
          kaggle_dataset: manidevesh/hr-dataset-analysis
          kaggle_file: HR_DataSet.csv
          download_folder: data
          download_file: raw_data.csv
    outs:
    - path: data/raw_data.csv
      hash: md5
      md5: 59d378061790edde7de565c9d02dffc7
      size: 566785
      isexec: true
  preprocess:
    cmd: python src/preprocess.py
    deps:
    - path: data/raw_data.csv
      hash: md5
      md5: 59d378061790edde7de565c9d02dffc7
      size: 566785
      isexec: true
    - path: src/preprocess.py
      hash: md5
      md5: 3e6332133ff69f8b92199868f1aa9a46
      size: 2177
      isexec: true
    params:
      params.yaml:
        preprocess:
          input_folder: data
          input_file: raw_data.csv
          output_file_path: data/preprocessed_data.csv
          rename_map:
            time_spend_company: time_spend_in_company
            Work_accident: had_work_accidents
            left: left_or_not
            promotion_last_5years: promoted_last_5_years
            Department: department
          keep_duplicates: true
    outs:
    - path: data/preprocessed_data.csv
      hash: md5
      md5: 421dacd3311e6ea369c8cd620ab05d6d
      size: 1575772
      isexec: true
  train:
    cmd: python src/train.py
    deps:
    - path: data/preprocessed_data.csv
      hash: md5
      md5: 421dacd3311e6ea369c8cd620ab05d6d
      size: 1575772
      isexec: true
    - path: src/train.py
      hash: md5
      md5: d167edcc53ca526d226cb38f839eba4a
      size: 2856
      isexec: true
    params:
      params.yaml:
        train:
          file_path: data/preprocessed_data.csv
          prediction_column: left_or_not
          test_X_file_path: data/test_X.csv
          test_y_file_path: data/test_y.csv
          random_state: 42
          max_depth:
          - 2
          - 4
          - 1
          min_samples_split:
          - 6
          - 15
          - 4
          n_estimators:
          - 30
          - 61
          - 10
          learning_rate:
          - 0.8
          - 1.3
          - 0.2
          model_file_path: models/model.pkl
    outs:
    - path: data/test_X.csv
      hash: md5
      md5: 824a865194d0c8d253ce0a16c0868ea4
      size: 325220
      isexec: true
    - path: data/test_y.csv
      hash: md5
      md5: cfd7b5362674b76508f9ea55a45a04c3
      size: 21766
      isexec: true
    - path: models/model.pkl
      hash: md5
      md5: 762ae00470cbf6f645e2c05242f1bab3
      size: 26464
      isexec: true
